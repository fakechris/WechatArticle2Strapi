<!doctype html>
<html>
<head>
  <title>Settings - Smart Article Extractor</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f8f9fa;
    }
    
    .container {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    h1 {
      color: #2c3e50;
      margin-bottom: 20px;
      text-align: center;
    }
    
    h2 {
      color: #495057;
      margin-top: 30px;
      margin-bottom: 15px;
      border-bottom: 2px solid #e9ecef;
      padding-bottom: 5px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-row {
      display: flex;
      gap: 15px;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .form-row label {
      min-width: 120px;
      font-weight: 500;
      color: #495057;
    }
    
    .form-row input, .form-row select {
      flex: 1;
      padding: 8px 12px;
      border: 1px solid #ced4da;
      border-radius: 4px;
      font-size: 14px;
    }
    
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
      color: #495057;
    }
    
    input[type="text"], input[type="password"], input[type="url"] {
      width: 100%;
      padding: 12px;
      border: 1px solid #ced4da;
      border-radius: 4px;
      font-size: 14px;
      box-sizing: border-box;
    }
    
    input:focus, select:focus {
      outline: none;
      border-color: #007bff;
      box-shadow: 0 0 0 2px rgba(0,123,255,0.25);
    }
    
    .help-text {
      font-size: 12px;
      color: #6c757d;
      margin-top: 5px;
    }
    
    button {
      background: #007bff;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 4px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      width: 100%;
      margin-top: 10px;
    }
    
    button:hover {
      background: #0056b3;
    }
    
    #status {
      margin-top: 15px;
      padding: 10px;
      border-radius: 4px;
      text-align: center;
      font-weight: 500;
    }
    
    #status.success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    
    #status.error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }
    
    .example {
      background: #f8f9fa;
      padding: 10px;
      border-radius: 4px;
      margin-top: 5px;
      font-family: monospace;
      font-size: 12px;
      color: #6c757d;
    }
    
    .mapping-section {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 6px;
      margin-top: 20px;
    }
    
    .field-type-badge {
      display: inline-block;
      padding: 2px 8px;
      background: #e9ecef;
      border-radius: 12px;
      font-size: 11px;
      color: #495057;
      margin-left: 10px;
    }
    
    .toggle-section {
      margin-bottom: 10px;
    }
    
    .toggle-section input[type="checkbox"] {
      margin-right: 8px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Smart Article Extractor Settings</h1>
    
    <form>
      <h2>üì° Strapi Connection</h2>
      
      <div class="form-group">
        <label for="strapiUrl">Strapi URL</label>
        <input id="strapiUrl" type="url" placeholder="https://your-strapi-instance.com" />
        <div class="help-text">Enter your Strapi instance URL (including https://)</div>
        <div class="example">Example: https://api.yoursite.com</div>
      </div>
      
      <div class="form-group">
        <label for="collection">Collection Name</label>
        <input id="collection" type="text" placeholder="articles" />
        <div class="help-text">The name of the Strapi collection to save articles to</div>
        <div class="example">Example: articles, posts, content</div>
      </div>
      
      <div class="form-group">
        <label for="token">API Token</label>
        <input id="token" type="password" placeholder="Your Strapi API token" />
        <div class="help-text">API token with write permissions for the collection</div>
        <div class="example">Get this from Strapi Admin ‚Üí Settings ‚Üí API Tokens</div>
      </div>
      
      <h2>üîó Field Mapping</h2>
              <div class="help-text">Map article data to your Strapi collection fields</div>
      
      <div class="mapping-section">
        <div class="toggle-section">
          <input type="checkbox" id="useFieldMapping" />
          <label for="useFieldMapping">Enable custom field mapping</label>
          <div class="help-text">If disabled, will use default field names</div>
        </div>
        
        <div id="fieldMappingConfig" style="display: none;">
          <div class="form-row">
            <label>Title ‚Üí <span class="field-type-badge">Text</span></label>
            <input type="text" id="titleField" placeholder="title" />
          </div>
          
          <div class="form-row">
            <label>Content ‚Üí <span class="field-type-badge">Rich Text/Text</span></label>
            <input type="text" id="contentField" placeholder="content" />
          </div>
          
          <div class="form-row">
            <label>Author ‚Üí <span class="field-type-badge">Text/Relation</span></label>
            <input type="text" id="authorField" placeholder="author" />
          </div>
          
          <div class="form-row">
            <label>Publish Time ‚Üí <span class="field-type-badge">Text/DateTime</span></label>
            <input type="text" id="publishTimeField" placeholder="publishTime" />
          </div>
          
          <div class="form-row">
            <label>Digest ‚Üí <span class="field-type-badge">Text</span></label>
            <input type="text" id="digestField" placeholder="digest" />
          </div>
          
          <div class="form-row">
            <label>Source URL ‚Üí <span class="field-type-badge">Text</span></label>
            <input type="text" id="sourceUrlField" placeholder="sourceUrl" />
          </div>
          
          <div class="form-row">
            <label>Images ‚Üí <span class="field-type-badge">JSON/Relation</span></label>
            <input type="text" id="imagesField" placeholder="images" />
          </div>
          
          <div class="form-row">
            <label>Slug ‚Üí <span class="field-type-badge">UID</span></label>
            <input type="text" id="slugField" placeholder="slug" />
          </div>
        </div>
      </div>
      
      <h2>‚öôÔ∏è Advanced Settings</h2>
      
      <div class="form-group">
        <div class="form-row">
          <label>Content Max Length</label>
          <input type="number" id="maxContentLength" value="50000" min="1000" max="200000" />
          <div class="help-text">Maximum character length for content field</div>
        </div>
        
        <div class="form-row">
          <label>Max Images</label>
          <input type="number" id="maxImages" value="10" min="1" max="50" />
          <div class="help-text">Maximum number of images to process</div>
        </div>
        
        <div class="toggle-section">
          <input type="checkbox" id="generateSlug" checked />
          <label for="generateSlug">Auto-generate slug from title</label>
        </div>
        
        <div class="toggle-section">
          <input type="checkbox" id="uploadImages" checked />
          <label for="uploadImages">Upload images to Strapi</label>
        </div>
        
        <div class="toggle-section">
          <input type="checkbox" id="sanitizeContent" checked />
          <label for="sanitizeContent">Clean HTML content</label>
        </div>
        
        <div class="toggle-section">
          <input type="checkbox" id="includeBlocksField" checked />
          <label for="includeBlocksField">Include blocks field (for Dynamic Zone)</label>
          <div class="help-text">Enable if your Strapi collection has a required blocks field</div>
        </div>
        
        <div class="toggle-section">
          <input type="checkbox" id="putContentInBlocks" />
          <label for="putContentInBlocks">Put article content in first blocks item</label>
          <div class="help-text">Store full article content as rich text block in Dynamic Zone</div>
        </div>
        
        <div class="form-row" style="margin-left: 20px; display: none;" id="blocksComponentConfig">
          <label>Blocks Component Name</label>
          <input type="text" id="blocksComponentName" placeholder="blocks.rich-text" />
          <div class="help-text">The component name for rich text blocks in your Dynamic Zone</div>
        </div>
      </div>
      
      <button type="button" id="save">Save Settings</button>
      
      <div style="margin-top: 20px; display: flex; gap: 10px;">
        <button type="button" id="debug" style="background: #6c757d;">Show Current Settings</button>
        <button type="button" id="testData" style="background: #28a745;">Test Data Generation</button>
        <button type="button" id="reset" style="background: #dc3545;">Reset All Settings</button>
      </div>
      
      <div id="debugOutput" style="margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 4px; font-family: monospace; font-size: 12px; display: none;"></div>
      
      <div id="status"></div>
    </form>
  </div>
  
  <script src="options.js"></script>
</body>
</html>
